{"version":3,"sources":["node_modules/browser-pack/_prelude.js","_js/main.js","_js/optimizedResize.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","swapImg","console","log","optimizedResize","add","resize","running","window","requestAnimationFrame","runCallbacks","setTimeout","callbacks","forEach","callback","addCallback","push","addEventListener"],"mappings":"CAAA,QAAAA,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCYA,QAASK,KACPC,QAAQC,IAAI,QAbd,GAAIC,GAAkBd,EAAQ,oBAuD9Bc,GAAgBC,IAAIJ,gDCrDpB,GAAIG,GAAmB,WAMrB,QAASE,KAEFC,IACHA,GAAU,EAENC,OAAOC,sBACTD,OAAOC,sBAAsBC,GAE7BC,WAAWD,EAAc,KAO/B,QAASA,KAEPE,EAAUC,QAAQ,SAASC,GACzBA,MAGFP,GAAU,EAIZ,QAASQ,GAAYD,GAEfA,GACFF,EAAUI,KAAKF,GAhCnB,GAAIF,MACAL,GAAU,CAoCd,QAEEF,IAAK,SAASS,GACPF,EAAUd,QACbU,OAAOS,iBAAiB,SAAUX,GAEpCS,EAAYD,OAKlBd,GAAOJ,QAAUA,EAAUQ","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var optimizedResize = require('./optimizedResize');\n\n// var img = document.querySelector('img[data-video-src]');\n// var container = img.parentElement;\nvar videoId = 'swapped-video';\nvar isVideo = false;\nvar video = null;\n\nfunction isTablet() {\n  return !window.matchMedia('(min-width: 768px)').matches;\n}\n\nfunction swapImg() {\n  console.log('test')\n  // if(isTablet()) {\n  //   return insertVideo()\n  // }\n  //\n  // removeVideo();\n}\n\nfunction createVideo(options) {\n  var video = document.createElement('video')\n  video.poster = options.poster;\n  video.id = videoId;\n\n  var source = document.createElement('source')\n  source.src = options.source;\n\n  video.appendChild(source);\n\n  return video;\n}\n\nfunction insertVideo() {\n  var video = createVideo({\n    poster: img.src,\n    source: img.getAttribute('data-video-src')\n  });\n\n  if(img) {\n    container.removeChild(img)\n    container.appendChild(video)\n  }\n}\n\nfunction removeVideo() {\n  var video = document.getElementById(videoId)\n  if(video) {\n    var parent = video.parentNode;\n    parent.removeChild(video);\n    parent.appendChild(img)\n  }\n}\n\noptimizedResize.add(swapImg)\n","// https://developer.mozilla.org/en-US/docs/Web/Events/resize\n\nvar optimizedResize = (function() {\n\n  var callbacks = [],\n      running = false;\n\n  // fired on resize event\n  function resize() {\n\n    if (!running) {\n      running = true;\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(runCallbacks);\n      } else {\n        setTimeout(runCallbacks, 66);\n      }\n    }\n\n  }\n\n  // run the actual callbacks\n  function runCallbacks() {\n\n    callbacks.forEach(function(callback) {\n      callback();\n    });\n\n    running = false;\n  }\n\n  // adds callback to loop\n  function addCallback(callback) {\n\n    if (callback) {\n      callbacks.push(callback);\n    }\n\n  }\n\n  return {\n    // public method to add additional callback\n    add: function(callback) {\n      if (!callbacks.length) {\n        window.addEventListener('resize', resize);\n      }\n      addCallback(callback);\n    }\n  }\n}());\n\nmodule.exports = exports = optimizedResize;\n"]}